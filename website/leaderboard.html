<!DOCTYPE html>
<html>

<head>
	<title>Calorific Conversion</title>

	<!-- Compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

	<!-- Compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

	<!--Let browser know website is optimized for mobile-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
	<div class="navbar-fixed">
		<nav>
			<div class="nav-wrapper green">
				<a href="./calorific-conversion.html" class="brand-logo center">OMOM Pandemic</a>
				<a href="#" data-target="mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a>
				<ul id="nav-mobile" class="right hide-on-med-and-down">
					<li><a href="./calorific-conversion.html">Home</a></li>
					<li class="active"><a href="./leaderboard.html">Leaderboard</a></li>
					<li><a href="./login.html">Login</a></li>
				</ul>
			</div>
		</nav>
	</div>

	<ul class="sidenav" id="mobile">
		<li><a href="./calorific-conversion.html">Home</a></li>
		<li class="active"><a href="./leaderboard.html">Leaderboard</a></li>
		<li><a href="./login.html">Login</a></li>
	</ul>

	<div class="container">
		<table style="margin-top: 2em;" id="data-table">
			<tr>
				<th>Name</th>
				<th>Distance (km)</th>
				<th>Ascent (m)</th>
				<th>Calories (kcal)</th>
			</tr>
		</table>
	</div>

	<script>
		document.addEventListener('DOMContentLoaded', function () {
			var elems = document.querySelectorAll('.sidenav');
			var instances = M.Sidenav.init(elems);
		});

		window.fetch('https://onemonthonemountain.co.uk/scores.json').then((response) => response.json().then(({scores}) => {
			const table = document.getElementById("data-table");

			scores.forEach((person, index) => {
				var row = table.insertRow(index + 1)

				var cell1 = row.insertCell(0);
				var cell2 = row.insertCell(1);
				var cell3 = row.insertCell(2);
				var cell4 = row.insertCell(3);

				cell1.innerHTML = person.name
				cell2.innerHTML = person.distance
				cell3.innerHTML = person.ascent
				cell4.innerHTML = person.calories
			})
		}))
	</script>
</body>

</html>
